scripted_diplomatic_actions = {
	ate_make_influence = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {		#The target country
			ROOT = { 
				is_puppet = no
				NOT = { has_completed_focus = fra_lines_of_influence }
			}
			PREV = { 
				NOT = { has_war_with = ROOT }
				OR = {
					is_puppet = no
					is_puppet_of = ROOT
				}
				is_major = no
				ic_ratio = {
					tag = ROOT
					ratio < 0.5
				}
			}
		}

		selectable = {
			NOT = { has_war_with = ROOT }
			custom_trigger_tooltip = {
    			tooltip = ate_influence_less_100_tt	
    			FROM = {
					check_variable = { influence@ROOT < 100 } 
				}
			}
			custom_trigger_tooltip = {
				tooltip = ate_not_embargoed_tt	
				NOT = {
					is_in_array = {
						array = ROOT.embargoed_countries
						value = FROM.id
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = ate_not_embargoed_us_tt	
				NOT = {
					FROM = {
						is_in_array = {
							array = FROM.embargoed_countries
							value = ROOT.id
						}
					}
				}
			}
			PREV = {
				OR = {
					is_puppet_of = ROOT
					is_neighbor_of = ROOT
					any_neighbor_country = {
						is_neighbor_of = ROOT
					}
				}
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_INFLUENCE_LOC
		accept_title = ATE_INFLUENCED_TITLE
		accept_description = ATE_INFLUENCED_DESC
		
		cost = 40

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_diplomacy = yes
		}

		ai_desire = {
			base = 2
			modifier = {
				factor = 10
				FROM = {
					is_puppet_of = ROOT
					check_variable = { influence@ROOT < 60 } 
				}
			}
			modifier = {
				factor = 20
				FROM = {
					is_puppet_of = ROOT
					check_variable = { influence@ROOT < 40 } 
				}
			}
			modifier = {
				factor = 10
				if = {
					limit = { ROOT = { tag = FRA } }
					FROM = { has_idea = fra_econ_member check_variable = { influence@ROOT < 60 } }
				}
				if = {
					limit = { ROOT = { tag = GER } }
					FROM = { has_idea = ger_economic_puppet check_variable = { influence@ROOT < 60 } }
				}
				if = {
					limit = { ROOT = { tag = ENG } }
					FROM = { has_idea = eng_economic_puppet check_variable = { influence@ROOT < 60 } }
				}
			}
			modifier = {
				factor = 0.5
				NOT = { FROM = { is_neighbor_of = ROOT } }
			}
			modifier = {
				factor = 0.5
				NOT = { FROM = { has_government = ROOT } }
			}
		}
	}

	ate_make_influence_fra = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {
			ROOT = { 
				is_puppet = no
				tag = FRA
				has_completed_focus = fra_lines_of_influence
			}
			PREV = { 
				NOT = { has_war_with = ROOT }
				OR = {
					is_puppet = no
					is_puppet_of = ROOT
				}
				is_major = no
				ic_ratio = {
					tag = ROOT
					ratio < 0.5
				}
			}
		}

		selectable = {
			NOT = { has_war_with = ROOT }
			custom_trigger_tooltip = {
    			tooltip = ate_influence_less_100_tt	
    			FROM = {
					check_variable = { influence@ROOT < 100 } 
				}
			}
			custom_trigger_tooltip = {
				tooltip = ate_not_embargoed_tt	
				NOT = {
					is_in_array = {
						array = ROOT.embargoed_countries
						value = FROM.id
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = ate_not_embargoed_us_tt	
				NOT = {
					FROM = {
						is_in_array = {
							array = FROM.embargoed_countries
							value = ROOT.id
						}
					}
				}
			}
			PREV = {
				OR = {
					is_puppet_of = ROOT
					is_neighbor_of = ROOT
					any_neighbor_country = {
						is_neighbor_of = ROOT
					}
				}
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_INFLUENCE_LOC
		accept_title = ATE_INFLUENCED_TITLE
		accept_description = ATE_INFLUENCED_DESC
		
		cost = 30

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_diplomacy = yes
		}

		ai_desire = {
			base = 2
			modifier = {
				factor = 10
				FROM = {
					is_puppet_of = ROOT
					check_variable = { influence@ROOT < 60 } 
				}
			}
			modifier = {
				factor = 20
				FROM = {
					is_puppet_of = ROOT
					check_variable = { influence@ROOT < 40 } 
				}
			}
			modifier = {
				factor = 10
				if = {
					limit = { ROOT = { tag = FRA } }
					FROM = { has_idea = fra_econ_member check_variable = { influence@ROOT < 60 } }
				}
			}
			modifier = {
				factor = 0.5
				NOT = { FROM = { is_neighbor_of = ROOT } }
			}
			modifier = {
				factor = 0.5
				NOT = { FROM = { has_government = ROOT } }
			}
		}
	}

	ate_party_boost = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {		#The target country
			ROOT = { is_puppet = no }
			FROM = { 
				NOT = { has_war_with = ROOT }
				OR = {
					is_puppet = no
					is_puppet_of = ROOT
				}
				is_major = no
				ic_ratio = {
					tag = ROOT
					ratio < 0.5
				}
			}
		}

		selectable = {
			NOT = { has_war_with = ROOT }
			custom_trigger_tooltip = {
    			tooltip = ate_influence_more_4_tt	
    			FROM = {
					check_variable = { influence@ROOT > 3 } 
				}
			}
			if = {
				limit = { ROOT = { has_government = democratic } }
				NOT = { FROM = { democratic > 0.9 } }
			}
			if = {
				limit = { ROOT = { has_government = liberalism } }
				NOT = { FROM = { liberalism > 0.9 } }
			}
			if = {
				limit = { ROOT = { has_government = socialism } }
				NOT = { FROM = { socialism > 0.9 } }
			}
			if = {
				limit = { ROOT = { has_government = communism } }
				NOT = { FROM = { communism > 0.9 } }
			}
			if = {
				limit = { ROOT = { has_government = fascism } }
				NOT = { FROM = { fascism > 0.9 } }
			}
			if = {
				limit = { ROOT = { has_government = centrism } }
				NOT = { FROM = { centrism > 0.9 } }
			}
			if = {
				limit = { ROOT = { has_government = neutrality } }
				NOT = { FROM = { neutrality > 0.9 } }
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_PARTY_BOOST_LOC
		accept_title = ATE_PARTY_BOOSTED_TITLE
		accept_description = ATE_PARTY_BOOSTED_DESC
		
		cost = 25

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_party_boost = yes
		}

		ai_desire = {
			base = 4
		}
	}

	ate_economic_puppet = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {
			NOT = { has_government = communism }
			FROM = { NOT = { has_government = communism } }
			ROOT = { is_puppet = no }
			FROM = { 
				NOT = { has_war_with = ROOT }
				OR = {
					is_puppet = no
					is_puppet_of = ROOT
				}
			}
			FROM = {
				is_major = no
				ic_ratio = {
					tag = ROOT
					ratio < 0.25
				}
			}
			ROOT = {
				OR = {
					tag = FRA
					tag = GER
					tag = ENG
				}
			}
		}

		selectable = {
			PREV = {
				ic_ratio = {
					tag = ROOT
					ratio < 0.25
				}
			}
			custom_trigger_tooltip = {
    			tooltip = ate_influence_more_50_tt	
    			FROM = {
					check_variable = { influence@ROOT > 49 } 
				}
			}
			if = {
				limit = { ROOT = { tag = FRA } }
				FROM = { NOT = { has_idea = fra_econ_member } }
			}
			if = {
				limit = {
					ROOT = { 
						tag = GER 
						NOT = { has_idea = ger_european_union } 
					} 
				}
				FROM = { NOT = { has_idea = ger_economic_puppet } }
			}
			if = {
				limit = {
					ROOT = { 
						tag = GER 
						has_idea = ger_european_union
					} 
				}
				FROM = { NOT = { has_idea = ger_european_member } }
			}
			if = {
				limit = { ROOT = { tag = ENG } }
				FROM = { NOT = { has_idea = eng_economic_puppet } }
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_ECONOMIC_PUPPET_LOC
		accept_title = ATE_ECONOMIC_PUPPETED_TITLE
		accept_description = ATE_ECONOMIC_PUPPETED_DESC
		
		cost = 75

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_economic_puppet = yes
		}

		ai_desire = {
			base = 20
		}
	}

	ate_puppet = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {
			ROOT = { is_puppet = no }
			FROM = { 
				NOT = { has_war_with = ROOT }
				OR = {
					is_puppet = no
					is_puppet_of = ROOT
				}
				is_major = no
				ic_ratio = {
					tag = ROOT
					ratio < 0.25
				}
			}
		}

		selectable = {
			NOT = { has_war_with = ROOT }
			custom_trigger_tooltip = {
    			tooltip = ate_influence_more_100_tt	
    			FROM = {
					check_variable = { influence@ROOT > 99 } 
				}
			}
			FROM = { has_government = ROOT }
			if = {
				limit = { ROOT = { tag = FRA } }
				FROM = { has_idea = fra_econ_member }
			}
			if = {
				limit = {
					ROOT = { 
						tag = GER 
						NOT = { has_idea = ger_european_union } 
					} 
				}
				FROM = { has_idea = ger_economic_puppet }
			}
			if = {
				limit = {
					ROOT = { 
						tag = GER 
						has_idea = ger_european_union
					} 
				}
				FROM = { has_idea = ger_european_member }
			}
			if = {
				limit = { ROOT = { tag = ENG } }
				FROM = { has_idea = eng_economic_puppet }
			}
			NOT = { FROM = { has_civil_war = yes } }
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_PUPPET_LOC
		accept_title = ATE_PUPPETED_TITLE
		accept_description = ATE_PUPPETED_DESC
		
		cost = 100

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_puppet = yes
		}

		ai_desire = {
			base = 0
		}
	}

	ate_less_influence = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {		#The target country
			PREV = { is_puppet = no }
			ROOT = {
				NOT = { has_war_with = PREV }
				OR = {
					is_puppet_of = PREV
					AND = {
						is_puppet = no
						ic_ratio = {
							tag = PREV
							ratio < 0.5
						}
					}
				}
			}
			PREV = {
				OR = {
					is_owner_neighbor_of = ROOT
					any_neighbor_country = {
						is_owner_neighbor_of = ROOT
					}
				}
			}
		}

		selectable = {
			NOT = { has_war_with = ROOT }
			custom_trigger_tooltip = {
    			tooltip = ate_influence_more_0_tt	
    			FROM = {
					check_variable = { influenced@ROOT > 0 } 
				}
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_LESS_INFLUENCE_LOC
		accept_title = ATE_LESS_INFLUENCED_TITLE
		accept_description = ATE_LESS_INFLUENCED_DESC
		
		cost = 35

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_minus_2_diplomacy = yes
		}

		ai_desire = {
			base = 2
			modifier = {
				factor = 10
				FROM = {
					check_variable = { influenced@ROOT > 80 } 
				}
			}
			modifier = {
				factor = 5
				FROM = {
					check_variable = { influenced@ROOT > 50 } 
				}
			}
			modifier = {
				factor = 0.5
				ROOT = { is_in_faction_with = FROM }
			}
		}
	}

	ate_no_economic = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {
			ROOT = {
				OR = {
					has_idea = fra_econ_member
					has_idea = eng_economic_puppet
					has_idea = ger_economic_puppet
					has_idea = ger_european_member
				}
			}
			if = {
				limit = { ROOT = { has_idea = fra_econ_member } }
				FROM = { tag = FRA }
			}
			if = {
				limit = { ROOT = { has_idea = ger_economic_puppet } }
				FROM = { tag = GER }
			}
			if = {
				limit = { ROOT = { has_idea = ger_european_member } }
				FROM = { tag = GER }
			}
			if = {
				limit = { ROOT = { has_idea = eng_economic_puppet } }
				FROM = { tag = ENG }
			}
		}

		selectable = {
			ROOT = {
				ic_ratio = {
					tag = PREV
					ratio > 0.25
				}
			}
			custom_trigger_tooltip = {
    			tooltip = ate_influence_less_50_tt	
    			FROM = {
					check_variable = { influenced@ROOT < 50 } 
				}
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_NO_ECONOMIC_LOC
		accept_title = ATE_NO_ECONOMICED_TITLE
		accept_description = ATE_NO_ECONOMICED_DESC
		
		cost = 75

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_no_economic_puppet_diplomacy = yes
		}

		ai_desire = {
			base = 6
			modifier = {
				factor = 0.5
				PREV = { is_in_faction_with = ROOT }
			}
		}
	}

	ate_no_puppet = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {
			NOT = { has_dlc = "Together for Victory" }
			ROOT = { is_puppet_of = PREV }
		}

		selectable = {
			has_war = no
			if = {
				limit = { FROM = { tag = FRA } }
				ROOT = { NOT = { has_idea = fra_econ_member } }
			}
			if = {
				limit = {
					FROM = { 
						tag = GER 
						NOT = { has_idea = ger_european_union } 
					} 
				}
				ROOT = { NOT = { has_idea = ger_economic_puppet } }
			}
			if = {
				limit = {
					FROM = { 
						tag = GER 
						has_idea = ger_european_union
					} 
				}
				ROOT = { NOT = { has_idea = ger_european_member } }
			}
			if = {
				limit = { FROM = { tag = ENG } }
				ROOT = { NOT = { has_idea = eng_economic_puppet } }
			}
			custom_trigger_tooltip = {
    			tooltip = ate_influence_less_20_tt	
    			FROM = {
					check_variable = { influenced@ROOT < 20 } 
				}
			}
			ROOT = {
				ic_ratio = {
					tag = PREV
					ratio > 0.25
				}
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_NO_PUPPET_LOC
		accept_title = ATE_NO_PUPPED_TITLE
		accept_description = ATE_NO_PUPPED_DESC
		
		cost = 100

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_no_puppet_diplomacy = yes
		}

		ai_desire = {
			base = 10
			modifier = {
				factor = 2
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0.5
				is_guaranteed_by = FROM
			}
			modifier = {
				factor = 0.5
				is_in_faction_with = FROM
			}
		}
	}

	ate_yes_economic = {
		icon = 25
		allowed = {
			always = yes
		}

		visible = {
			ROOT = {
				is_puppet = no
				NOT = {
					has_idea = fra_econ_member
					has_idea = eng_economic_puppet
					has_idea = ger_economic_puppet
					has_idea = ger_european_member
				}
				NOT = {
					has_idea = eng_econ_leader
					has_idea = ger_european_union
					has_idea = ger_first_economy
					has_idea = fra_econ_leader
				}
			}
			FROM = {
				OR = {
					tag = ENG
					tag = GER
					tag = FRA
				}
			}
			if = {
				limit = { FROM = { tag = ENG } }
				FROM = { has_idea = eng_econ_leader }
			}
			if = {
				limit = { FROM = { tag = GER } }
				FROM = { 
					OR = { 
						has_idea = ger_first_economy
						has_idea = ger_european_union
					}
				}
			}
			if = {
				limit = { FROM = { tag = FRA } }
				FROM = { has_idea = fra_econ_leader }
			}
		}

		selectable = {
			ROOT = {
				NOT = { has_war_with = FROM }
			}
			FROM = {
				has_opinion = {
				    target = ROOT
				    value > 24
				}
			}
		}

		can_be_accepted = {
			always = yes
		}

		can_be_sent = {
			always = yes
		}

		send_description = ATE_YES_ECONOMIC_LOC
		accept_title = ATE_YES_ECONOMICED_TITLE
		accept_description = ATE_YES_ECONOMICED_DESC
		
		cost = 50

		requires_acceptance = no

		on_sent_effect = {
				
		}

		complete_effect = {
			ate_influence_yes_economic_puppet_diplomacy = yes
		}

		ai_desire = {
			base = 1
		}
	}
}