scripted_gui = {
	cw_embargo_diplomacy_buttons_ui = {
		window_name = "cw_embargo_diplomacy_buttons"
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy

		triggers = {
			close_button_visible = {
				ROOT = {
					OR = {
						has_country_flag = show_who_embargoes_them
						has_country_flag = show_who_they_embargo
						has_country_flag = show_who_they_influenced
						has_country_flag = show_who_they_influence
					}
				}
			}
			they_influence_button_click_enabled = {
				FROM = {
					is_puppet = no
				}
			}
			they_influenced_button_click_enabled = {
				FROM = {
					is_major = no
				}
			}
		}
		effects = {
			close_button_click = {
				ROOT = {
					clr_country_flag = show_who_they_embargo
					clr_country_flag = show_who_embargoes_them
					clr_country_flag = show_who_they_influenced
					clr_country_flag = show_who_they_influence
				}
			}
			who_embargos_them_button_click = {
				ROOT = {
					clr_country_flag = show_who_they_influenced
					clr_country_flag = show_who_they_influence
					clr_country_flag = show_who_they_embargo
					set_country_flag = show_who_embargoes_them
					clear_array = ROOT.view_embargoes_list
				}
				every_country = {
					limit = {
						exists = yes
						PREV = {
							is_in_array = {
								array = PREV.embargoed_countries
								value = THIS.id
							}
						}
					}
					add_to_array = {
						array = ROOT.view_embargoes_list
						value = THIS.id
					}
				}
			}
			show_who_they_embargo_button_click = {
				ROOT = {
					clr_country_flag = show_who_they_influenced
					clr_country_flag = show_who_they_influence
					clr_country_flag = show_who_embargoes_them
					set_country_flag = show_who_they_embargo
				}
			}
			they_influence_button_click = {
				ROOT = {
					clr_country_flag = show_who_embargoes_them
					clr_country_flag = show_who_they_embargo
					clr_country_flag = show_who_they_influenced
					set_country_flag = show_who_they_influence
				}
			}
			they_influenced_button_click = {
				ROOT = {
					clr_country_flag = show_who_embargoes_them
					clr_country_flag = show_who_they_embargo
					clr_country_flag = show_who_they_influence
					set_country_flag = show_who_they_influenced
					clear_array = ROOT.view_influence_list
				}
				every_country = {
					limit = {
						exists = yes
						is_major = yes
						PREV = {
							is_in_array = {
								array = PREV.influenced_countries
								value = THIS.id
							}
						}
					}
					add_to_array = {
						array = ROOT.view_influence_list
						value = THIS.id
					}
				}
			}
		}
		visible = {
			always = yes
		}
	}
	cw_their_embargo_diplomacy_ui = {
		window_name = "cw_embargo_info_diplomacy"
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy

		visible = {
			ROOT = { has_country_flag = show_who_they_embargo }
		}
		triggers = {
		}
		effects = {
		}
		dynamic_lists = {
			coutnries_we_embargo_list_gridbox = {
				array = THIS.embargoed_countries
				entry_container = countries_we_embargo_list_entry
				change_scope = yes
			}
		}
		properties = {
			country_flag = {
				image = "[THIS.GetFlag]"
			}
		}
		ai_enabled = {
		  always = no
		}
	}
	cw_countries_that_embargo_them_diplomacy_ui = {
		window_name = "cw_embargo_info_diplomacy"
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy

		visible = {
			ROOT = { has_country_flag = show_who_embargoes_them }
		}
		triggers = {
		}
		effects = {
		}
		dynamic_lists = {
			coutnries_we_embargo_list_gridbox = {
				array = ROOT.view_embargoes_list
				entry_container = countries_we_embargo_list_entry
				change_scope = yes
			}
		}
		properties = {
			country_flag = {
				image = "[THIS.GetFlag]"
			}
		}
		ai_enabled = {
		  always = no
		}
	}
}
